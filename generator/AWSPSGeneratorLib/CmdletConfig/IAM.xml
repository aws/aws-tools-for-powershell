<?xml version="1.0" encoding="utf-8" ?>
<ConfigModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <ServiceNounPrefix>IAM</ServiceNounPrefix>
  <ServiceClientInterface>IAmazonIdentityManagementService</ServiceClientInterface>
  <ServiceClient>AmazonIdentityManagementServiceClient</ServiceClient>
  <ServiceNamespace>Amazon.IdentityManagement</ServiceNamespace>

  <NounMappings>
    <Map From="AccessKeys" To="AccessKey" />
    <Map From="AccountAliases" To="AccountAlias" />
    <Map From="GroupsForUser" To="GroupForUser" />
    <Map From="InstanceProfilesForRole" To="InstanceProfileForRole" />
    <Map From="MFADevices" To="MFADevice" />
    <Map From="SigningCertificates" To="SigningCertificate" />
    <Map From="VirtualMFADevices" To="VirtualMFADevice" />
  </NounMappings>

  <VerbMappings>
    <Map From="Change" To="Edit" />
    <Map From="List" To="Get" />
    <Map From="Upload" To="Publish" />
    <Map From="Resync" To="Sync" />
    <Map From="Attach" To="Register" />
    <Map From="Detach" To="Unregister"/>
    <Map From="Simulate" To="Test"/>
  </VerbMappings>
  
  <DefaultRegion>us-east-1</DefaultRegion>

  <AutoIterate EmitLimit="MaxItems" Start="Marker" Next="Marker" TruncatedFlag="IsTruncated" Exclusions="GetGroup;GetAccountAuthorizationDetails;ListEntitiesForPolicy" />

  <PositionalParameters>UserName</PositionalParameters>
  <PipelineParameter>UserName</PipelineParameter>

  <ServiceOperations>
    <ServiceOperation MethodName="AddClientIDToOpenIDConnectProvider" Output="Void"/>
    <ServiceOperation MethodName="AddRoleToInstanceProfile" Output="Void" PipelineParameter="InstanceProfileName" PositionalParameters="RoleName"/>
    <ServiceOperation MethodName="AddUserToGroup" Output="Void" PipelineParameter="GroupName" PositionalParameters="UserName"/>
    <ServiceOperation MethodName="AttachGroupPolicy" Verb="Register" Output="Void" PipelineParameter="GroupName" PositionalParameters="PolicyArn"/>
    <ServiceOperation MethodName="AttachRolePolicy" Verb="Register" Output="Void" PipelineParameter="RoleName" PositionalParameters="PolicyArn"/>
    <ServiceOperation MethodName="AttachUserPolicy" Verb="Register" Output="Void" PositionalParameters="PolicyArn"/>
    <ServiceOperation MethodName="ChangePassword" Output="Void" PipelineParameter="OldPassword" PositionalParameters="NewPassword"/>
    <ServiceOperation MethodName="CreateAccessKey"/>
    <ServiceOperation MethodName="CreateAccountAlias" Output="Void" />
    <ServiceOperation MethodName="CreateGroup" PipelineParameter="Path" PositionalParameters="GroupName"/>
    <ServiceOperation MethodName="CreateInstanceProfile" PipelineParameter="InstanceProfileName" PositionalParameters="Path"/>
    <ServiceOperation MethodName="CreateLoginProfile" PositionalParameters="Password"/>
    <ServiceOperation MethodName="CreateOpenIDConnectProvider" PipelineParameter="Url"/>
    <ServiceOperation MethodName="CreatePolicy" PositionalParameters="PolicyName;PolicyDocument"/>
    <ServiceOperation MethodName="CreatePolicyVersion" PositionalParameters="PolicyArn;PolicyDocument"/>
    <ServiceOperation MethodName="CreateRole" PipelineParameter="Path" PositionalParameters="RoleName;AssumeRolePolicyDocument"/>
    <ServiceOperation MethodName="CreateUser" PipelineParameter="Path" PositionalParameters="UserName"/>
    <ServiceOperation MethodName="CreateVirtualMFADevice" PipelineParameter="Path" PositionalParameters="VirtualMFADeviceName"/>
    <ServiceOperation MethodName="DeactivateMFADevice" Output="Void" PositionalParameters="SerialNumber"/>
    <ServiceOperation MethodName="DeleteAccessKey" Output="Void" ShouldProcessTarget="AccessKeyId" PositionalParameters="AccessKeyId"/>
    <ServiceOperation MethodName="DeleteAccountAlias" Output="Void" />
    <ServiceOperation MethodName="DeleteAccountPasswordPolicy" Output="Void"/>
    <ServiceOperation MethodName="DeleteGroup" Output="Void" />
    <ServiceOperation MethodName="DeleteGroupPolicy" Output="Void" ShouldProcessTarget="PolicyName" PipelineParameter="GroupName" PositionalParameters="PolicyName"/>
    <ServiceOperation MethodName="DeleteInstanceProfile" Output="Void" />
    <ServiceOperation MethodName="DeleteLoginProfile" Output="Void"/>
    <ServiceOperation MethodName="DeleteOpenIDConnectProvider" Output="Void" PositionalParameters="OpenIDConnectProviderArn"/>
    <ServiceOperation MethodName="DeletePolicy" Output="Void" PositionalParameters="PolicyArn" ShouldProcessTarget="PolicyArn"/>
    <ServiceOperation MethodName="DeletePolicyVersion" Output="Void" PositionalParameters="PolicyArn,VersionId" 
        ShouldProcessTarget="VersionId" />
    <ServiceOperation MethodName="DeleteRole" Output="Void" />
    <ServiceOperation MethodName="DeleteRolePolicy" Output="Void" ShouldProcessTarget="PolicyName" PipelineParameter="RoleName" PositionalParameters="PolicyName"/>
    <ServiceOperation MethodName="DeleteServerCertificate" Output="Void" />
    <ServiceOperation MethodName="DeleteSigningCertificate" Output="Void" ShouldProcessTarget="CertificateId" PositionalParameters="CertificateId"/>
    
    <ServiceOperation MethodName="DeleteSSHPublicKey" PipelineParameter="SSHPublicKeyId" Output="Void" />
    
    <ServiceOperation MethodName="DeleteUser" Output="Void"/>
    <ServiceOperation MethodName="DeleteUserPolicy" Output="Void" ShouldProcessTarget="PolicyName" PositionalParameters="PolicyName"/>
    <ServiceOperation MethodName="DeleteVirtualMFADevice" Output="Void" />
    <ServiceOperation MethodName="DetachGroupPolicy" Verb="Unregister" Output="Void" PipelineParameter="GroupName" PositionalParameters="PolicyArn" />
    <ServiceOperation MethodName="DetachRolePolicy" Verb="Unregister" Output="Void" PipelineParameter="RoleName" PositionalParameters="PolicyArn" />
    <ServiceOperation MethodName="DetachUserPolicy" Verb="Unregister" Output="Void" PositionalParameters="PolicyArn" />
    <ServiceOperation MethodName="EnableMFADevice" Output="Void" PositionalParameters="SerialNumber;AuthenticationCode1;AuthenticationCode2"/>
    <ServiceOperation MethodName="GetAccountAuthorizationDetails" Output="Response"/>
    <ServiceOperation MethodName="GetAccessKeyLastUsed" Output="Response"/>
    <ServiceOperation MethodName="GetAccountPasswordPolicy"/>
    <ServiceOperation MethodName="GetAccountSummary"/>
    <ServiceOperation MethodName="GetGroup" Output="Response" />
    <ServiceOperation MethodName="GetGroupPolicy" Output="Response" PipelineParameter="GroupName" PositionalParameters="PolicyName"/>
    <ServiceOperation MethodName="GetInstanceProfile" />
    <ServiceOperation MethodName="GetLoginProfile"/>
    <ServiceOperation MethodName="GetOpenIDConnectProvider" Output="Response" PositionalParameters="OpenIDConnectProviderArn"/>
    <ServiceOperation MethodName="GetPolicy" PositionalParameters="PolicyArn"/>
    <ServiceOperation MethodName="GetPolicyVersion" PositionalParameters="PolicyArn;VersionId"/>
    <ServiceOperation MethodName="GetRole" />
    <ServiceOperation MethodName="GetRolePolicy" Output="Response" PipelineParameter="RoleName" PositionalParameters="PolicyName"/>
    <ServiceOperation MethodName="GetServerCertificate" />
    
    <ServiceOperation MethodName="GetSSHPublicKey" PipelineParameter="SSHPublicKeyId" />
    
    <ServiceOperation MethodName="GetUser"/>
    <ServiceOperation MethodName="GetUserPolicy" Output="Response" PositionalParameters="PolicyName"/>
    <ServiceOperation MethodName="ListAccessKeys"/>
    <ServiceOperation MethodName="ListAccountAliases"/>
    <ServiceOperation MethodName="ListAttachedGroupPolicies" PositionalParameters="GroupName"/>
    <ServiceOperation MethodName="ListAttachedRolePolicies" PositionalParameters="RoleName"/>
    <ServiceOperation MethodName="ListAttachedUserPolicies" PositionalParameters="UserName"/>
    <ServiceOperation MethodName="ListEntitiesForPolicy" Output="Response" PositionalParameters="PolicyArn" />
    <ServiceOperation MethodName="ListGroupPolicies" />
    <ServiceOperation MethodName="ListGroups" PipelineParameter="PathPrefix"/>
    <ServiceOperation MethodName="ListGroupsForUser"/>
    <ServiceOperation MethodName="ListInstanceProfiles" PipelineParameter="PathPrefix"/>
    <ServiceOperation MethodName="ListInstanceProfilesForRole" PipelineParameter="RoleName"/>
    <ServiceOperation MethodName="ListMFADevices"/>
    <ServiceOperation MethodName="ListOpenIDConnectProviders"/>
    <ServiceOperation MethodName="ListPolicies"/>
    <ServiceOperation MethodName="ListPolicyVersions"/>
    <ServiceOperation MethodName="ListRolePolicies" PipelineParameter="RoleName"/>
    <ServiceOperation MethodName="ListRoles" PipelineParameter="PathPrefix"/>
    <ServiceOperation MethodName="ListServerCertificates" PipelineParameter="PathPrefix"/>
    <ServiceOperation MethodName="ListSigningCertificates"/>
    <ServiceOperation MethodName="ListSSHPublicKeys" Noun="SSHPublicKeyList" />
    <ServiceOperation MethodName="ListUserPolicies"/>
    <ServiceOperation MethodName="ListUsers" PipelineParameter="PathPrefix"/>
    <ServiceOperation MethodName="ListVirtualMFADevices" />
    <ServiceOperation MethodName="PutGroupPolicy" Output="Void" PipelineParameter="GroupName" PositionalParameters="PolicyName;PolicyDocument"/>
    <ServiceOperation MethodName="PutRolePolicy" Output="Void" PipelineParameter="RoleName" PositionalParameters="PolicyName;PolicyDocument"/>
    <ServiceOperation MethodName="PutUserPolicy" Output="Void" PositionalParameters="PolicyName;PolicyDocument"/>
    <!-- do we need shouldprocess on this? -->
    <ServiceOperation MethodName="RemoveRoleFromInstanceProfile" Output="Void" ShouldProcessTarget="RoleName" 
                      PipelineParameter="InstanceProfileName" PositionalParameters="RoleName"/>
    <!-- do we need shouldprocess on this? -->
    <ServiceOperation MethodName="RemoveUserFromGroup" Output="Void" ShouldProcessTarget="UserName" PipelineParameter="GroupName" PositionalParameters="UserName"/> 
    <ServiceOperation MethodName="RemoveClientIDFromOpenIDConnectProvider" ShouldProcessTarget="ClientID" Output="Void" /> 
    <ServiceOperation MethodName="ResyncMFADevice" Output="Void" PositionalParameters="SerialNumber;AuthenticationCode1;AuthenticationCode2"/>
    <ServiceOperation MethodName="SetDefaultPolicyVersion" Output="Void" PositionalParameters="PolicyArn;VersionId" AnonymousShouldProcessTarget="true" />
    <ServiceOperation MethodName="UpdateAccessKey" Output="Void" PositionalParameters="AccessKeyId;Status"/>
    <ServiceOperation MethodName="UpdateAccountPasswordPolicy" Output="Void" AnonymousShouldProcessTarget="true"/>
    <ServiceOperation MethodName="UpdateAssumeRolePolicy" Output="Void" PipelineParameter="RoleName" PositionalParameters="PolicyDocument"/>
    <ServiceOperation MethodName="UpdateGroup" Output="Void" PipelineParameter="GroupName" PositionalParameters="NewPath;NewGroupName"/>
    <ServiceOperation MethodName="UpdateLoginProfile" Output="Void" PositionalParameters="Password"/>
    <ServiceOperation MethodName="UpdateOpenIDConnectProviderThumbprint" Output="Void" PositionalParameters="OpenIDConnectProviderArn"/>
    <ServiceOperation MethodName="UpdateServerCertificate" Output="Void" PipelineParameter="ServerCertificateName" 
                      PositionalParameters="NewPath;NewServerCertificateName"/>
    <ServiceOperation MethodName="UpdateSigningCertificate" Output="Void" PositionalParameters="CertificateId;Status"/>
    <ServiceOperation MethodName="UpdateSSHPublicKey" PipelineParameter="SSHPublicKeyId" Output="Void" />
    <ServiceOperation MethodName="UpdateUser" Output="Void" PositionalParameters="NewPath;NewUserName"/>
    <ServiceOperation MethodName="UploadServerCertificate" PipelineParameter="Path" PositionalParameters="ServerCertificateName;CertificateBody;PrivateKey;CertificateChain"/>
    <ServiceOperation MethodName="UploadSigningCertificate" PositionalParameters="CertificateBody"/>
    <ServiceOperation MethodName="UploadSSHPublicKey" PipelineParameter="SSHPublicKeyBody" />
  
    <ServiceOperation MethodName="ListSAMLProviders" />
    <ServiceOperation MethodName="UpdateSAMLProvider" ShouldProcessTarget="SAMLProviderArn" />
    <ServiceOperation MethodName="CreateSAMLProvider" />
    <ServiceOperation MethodName="DeleteSAMLProvider" Output="Void" ShouldProcessTarget="SAMLProviderArn" />
    <ServiceOperation MethodName="GetSAMLProvider" Output="Response" ShouldProcessTarget="SAMLProviderArn" />

    <ServiceOperation MethodName="GenerateCredentialReport" Verb="Request" Output="Response" />
    <ServiceOperation MethodName="GetCredentialReport" Exclude="true" />

    <ServiceOperation MethodName="SimulateCustomPolicy" />
    <ServiceOperation MethodName="SimulatePrincipalPolicy" />
    <ServiceOperation MethodName="GetContextKeysForCustomPolicy" />
    <ServiceOperation MethodName="GetContextKeysForPrincipalPolicy" />

  </ServiceOperations>

  <PipelineByValueProperties>
    <Property>InstanceProfileName</Property>
    <Property>RoleName</Property>
    <Property>GroupName</Property>
    <Property>UserName</Property>
    <Property>Path</Property>
    <Property>PolicyName</Property>
    <Property>ServerCertificateName</Property>
    <Property>VersionId</Property>
    <Property>PolicyArn</Property>
  </PipelineByValueProperties>

</ConfigModel>

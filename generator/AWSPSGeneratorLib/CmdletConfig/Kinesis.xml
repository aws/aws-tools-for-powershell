<?xml version="1.0" encoding="utf-8" ?>
<ConfigModel 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <ServiceNounPrefix>KIN</ServiceNounPrefix>
  <ServiceName>Amazon Kinesis</ServiceName>
  <ServiceNamespace>Amazon.Kinesis</ServiceNamespace>
  <ServiceClientInterface>IAmazonKinesis</ServiceClientInterface>
  <ServiceClient>AmazonKinesisClient</ServiceClient>

  <NounMappings>
    <Map From="Records" To="Record" />
    <Map From="Shards" To="Shard" />
    <!-- <Map From="Streams" To="Stream" /> -->
  </NounMappings>
  
  <MetadataProperties>
    <Property>NextExclusiveStartStreamName</Property>
    <Property>HasMoreShards</Property>
  </MetadataProperties>
  
  <ServiceOperations>
    <ServiceOperation MethodName="AddTagsToStream" Output="Void" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="CreateStream" Output="Void" PositionalParameters="ShardCount" PipelineParameter="StreamName" />
    <ServiceOperation MethodName="DeleteStream" Output="Void" />
    <ServiceOperation MethodName="DescribeLimits" Verb="Describe" Noun="Limit" Output="Response"/>
    <ServiceOperation MethodName="DescribeStream" PositionalParameters="Limit;ExclusiveStartShardId" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="GetRecords" PipelineParameter="ShardIterator" Output="Response"/>
    <ServiceOperation MethodName="GetShardIterator" PipelineParameter="ShardId" />
    <ServiceOperation MethodName="ListStreams" Output="Response" Verb="Get" PipelineParameter="ExclusiveStartStreamName" PositionalParameters="Limit" Noun="StreamList" LegacyAlias="Get-KINStreams"/>
    <ServiceOperation MethodName="ListTagsForStream" Output="Response" Verb="Get" PositionalParameters="Limit" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="MergeShards" Output="Void" PositionalParameters="ShardToMerge;AdjacentShardToMerge" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="PutRecord" Exclude="true" />
    <ServiceOperation MethodName="PutRecords" Noun="MultipleRecord" PipelineParameter="Record" Output="Response" />
    <ServiceOperation MethodName="RemoveTagsFromStream" Output="Void" ShouldProcessTarget="StreamName" PipelineParameter="StreamName">
      <PassThru>
        <Expression>cmdletContext.TagKeys</Expression>
        <Documentation>Returns the collection of tag keys that were removed</Documentation>
      </PassThru>
    </ServiceOperation>
    <ServiceOperation MethodName="UpdateShardCount" PipelineParameter="StreamName" PositionalParameters="ShardCount;ScalingType" Output="Response"/>
    <ServiceOperation MethodName="DecreaseStreamRetentionPeriod" Verb="Request" Noun="StreamRetentionPeriodDecrease" PipelineParameter="StreamName" Output="Void" />
    <ServiceOperation MethodName="IncreaseStreamRetentionPeriod" Verb="Request" Noun="StreamRetentionPeriodIncrease" PipelineParameter="StreamName" Output="Void" />
    <ServiceOperation MethodName="SplitShard" Output="Void" PositionalParameters="ShardToSplit;NewStartingHashKey" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="DisableEnhancedMonitoring" PipelineParameter="StreamName" Output="Response" />
    <ServiceOperation MethodName="EnableEnhancedMonitoring" PipelineParameter="StreamName" Output="Response" />
  </ServiceOperations>
</ConfigModel>
<?xml version="1.0" encoding="utf-8" ?>
<ConfigModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema">

  <ServiceNounPrefix>KIN</ServiceNounPrefix>
  <ServiceNamespace>Amazon.Kinesis</ServiceNamespace>
  <ServiceClientInterface>IAmazonKinesis</ServiceClientInterface>
  <ServiceClient>AmazonKinesisClient</ServiceClient>

  <NounMappings>
    <Map From="Records" To="Record" />
    <Map From="Shards" To="Shard" />
    <!-- <Map From="Streams" To="Stream" /> -->
  </NounMappings>
  
  <MetadataProperties>
    <Property>NextExclusiveStartStreamName</Property>
    <Property>HasMoreShards</Property>
  </MetadataProperties>
  
  <ServiceOperations>

    <ServiceOperation MethodName="AddTagsToStream" Output="Void" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="CreateStream" Output="Void" PositionalParameters="ShardCount" PipelineParameter="StreamName" />
    <ServiceOperation MethodName="DeleteStream" Output="Void" />
    <ServiceOperation MethodName="DescribeStream" PositionalParameters="Limit;ExclusiveStartShardId" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="GetRecords" Exclude="true"/>
    <ServiceOperation MethodName="GetShardIterator" Exclude="true"/>
    <ServiceOperation MethodName="ListStreams" Output="Response" Verb="Get" PipelineParameter="ExclusiveStartStreamName" PositionalParameters="Limit"/>
    <ServiceOperation MethodName="ListTagsForStream" Output="Response" Verb="Get" PositionalParameters="Limit" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="MergeShards" Output="Void" PositionalParameters="ShardToMerge;AdjacentShardToMerge" PipelineParameter="StreamName"/>
    <ServiceOperation MethodName="PutRecord" Exclude="true"/>
    <ServiceOperation MethodName="PutRecords" Exclude="true"/>
    <ServiceOperation MethodName="RemoveTagsFromStream" Output="Void" ShouldProcessTarget="StreamName" PipelineParameter="StreamName">
      <PassThru>
        <Expression>cmdletContext.TagKeys</Expression>
        <Documentation>Returns the collection of tag keys that were removed</Documentation>
      </PassThru>
    </ServiceOperation>  
    <ServiceOperation MethodName="SplitShard" Output="Void" PositionalParameters="ShardToSplit;NewStartingHashKey" PipelineParameter="StreamName"/>
    
  </ServiceOperations>
</ConfigModel>
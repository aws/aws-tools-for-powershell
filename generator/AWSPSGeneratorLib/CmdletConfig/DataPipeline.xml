<?xml version="1.0" encoding="utf-8" ?>
<ConfigModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <ServiceNounPrefix>DP</ServiceNounPrefix>
  <ServiceName>AWS Data Pipeline</ServiceName>
  <ServiceClientInterface>IAmazonDataPipeline</ServiceClientInterface>
  <ServiceClient>AmazonDataPipelineClient</ServiceClient>
  <ServiceNamespace>Amazon.DataPipeline</ServiceNamespace>

  <PositionalParameters>PipelineId</PositionalParameters>
  <PipelineParameter>PipelineId</PipelineParameter>

  <NounMappings>
    <Map From="Objects" To="Object" />
    <Map From="Pipelines" To="Pipeline" />
  </NounMappings>
  
  <VerbMappings>
    <Map From="List" To="Get" />
    <Map From="Report" To="Update" />
    <Map From="Validate" To="Test" />
    <Map From="Evaluate" To="Invoke" />
  </VerbMappings>

  <AutoIterate Start="Marker" Next="Marker" TruncatedFlag="HasMoreResults" />
  
  <!--
  https://p4db.amazon.com/source-views/p4db/brazil/fileViewer.cgi?FSPC=//brazil/src/appgroup/webservices/apps/SetlWebServiceModelPublic/mainline/model/main-Documentation.xml&REV=84
VERBOSE: The command name 'Evaluate-DPExpression' includes an unapproved verb which might make it less discoverable.
VERBOSE: The command name 'Report-DPTaskProgress' includes an unapproved verb which might make it less discoverable.
VERBOSE: The command name 'Report-DPTaskRunnerHeartbeat' includes an unapproved verb which might make it less discoverable.
VERBOSE: The command name 'Validate-DPPipelineDefinition' includes an unapproved verb which might make it less discoverable.
  -->
  
  <ServiceOperations>
    <ServiceOperation MethodName="ActivatePipeline" Output="Void"/>
    <ServiceOperation MethodName="AddTags" Output="Void"/>
    <ServiceOperation MethodName="CreatePipeline" PipelineParameter="Name" PositionalParameters="UniqueId;Description"/>
    <ServiceOperation MethodName="DeactivatePipeline" Output="Void"/>
    <ServiceOperation MethodName="DeletePipeline" Output="Void"/>
    <ServiceOperation MethodName="DescribeObjects" PositionalParameters="ObjectIds;EvaluateExpressions"/>
    <ServiceOperation MethodName="DescribePipelines" Very="Get" Noun="PipelineDescription" />
    <ServiceOperation MethodName="EvaluateExpression" PositionalParameters="ObjectId;Expression"/>
    <ServiceOperation MethodName="GetPipelineDefinition" Output="Response" PositionalParameters="Version"/>
    <ServiceOperation MethodName="ListPipelines"/>
    <ServiceOperation MethodName="PollForTask" Verb="Get" Noun="Task" PipelineParameter="WorkerGroup" PositionalParameters="Hostname"/>
    <ServiceOperation MethodName="PutPipelineDefinition" Output="Response" PositionalParameters="PipelineObjects"/>
    <ServiceOperation MethodName="QueryObjects" Verb="Find" Noun="Objects"/>
    <ServiceOperation MethodName="RemoveTags" Output="Void"/>
    <ServiceOperation MethodName="ReportTaskProgress" PipelineParameter="TaskId"/>
    <ServiceOperation MethodName="ReportTaskRunnerHeartbeat" PipelineParameter="TaskrunnerId" PositionalParameters="WorkerGroup;Hostname"/>
    <ServiceOperation MethodName="SetStatus" Output="Void" PositionalParameters="ObjectIds;Status">
      <PassThru>
        <Expression>cmdletContext.ObjectIds</Expression>
        <Type>System.String</Type>
        <Documentation>Returns the object ids</Documentation>
      </PassThru>
    </ServiceOperation>
    <ServiceOperation MethodName="SetTaskStatus" Output="Void" PipelineParameter="TaskId" PositionalParameters="TaskStatus;ErrorId;ErrorMessage;ErrorStackTrace"/>
    <ServiceOperation MethodName="ValidatePipelineDefinition" Output="Response" PositionalParameters="PipelineObjects"/>
  </ServiceOperations>

  <MetadataProperties>
    <Property>HasMoreResults</Property>
  </MetadataProperties>

  <PipelineByValueProperties>
    <Property>PipelineId</Property>
    <Property>TaskId</Property>
  </PipelineByValueProperties>

</ConfigModel>

<?xml version="1.0" encoding="utf-8" ?>
<ConfigModel 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <ServiceNounPrefix>CFN</ServiceNounPrefix>
  <ServiceName>AWS CloudFormation</ServiceName>
  <ServiceClientInterface>IAmazonCloudFormation</ServiceClientInterface>
  <ServiceClient>AmazonCloudFormationClient</ServiceClient>
  <ServiceNamespace>Amazon.CloudFormation</ServiceNamespace>

  <VerbMappings>
    <Map From="Estimate" To="Measure" />
    <Map From="Validate" To="Test" />
  </VerbMappings>
  
  <CustomAliases>
    <AliasSet Cmdlet="Measure-CFNTemplateCost">Estimate-CFNTemplateCost</AliasSet>
    <AliasSet Cmdlet="Test-CFNTemplate">Validate-CFNTemplate</AliasSet>
    <AliasSet Cmdlet="Get-CFNStackSummaries">List-CFNStacks</AliasSet>
    <AliasSet Cmdlet="Get-CFNStackResourceSummaries">List-CFNStackResources</AliasSet>
  </CustomAliases>
  
  <AutoIterate Start="NextToken" Next="NextToken" Exclusions="DescribeChangeSet" />

  <PositionalParameters>StackName</PositionalParameters>
  
  <PipelineParameter>StackName</PipelineParameter>
  
  <NounMappings>
    <Map From="StackEvents" To="StackEvent" />
    <Map From="StackResourceSummaries" To="StackResourceSummary" />
    <Map From="Stacks" To="Stack" />
    <Map From="StackSummaries" To="StackSummary" />
  </NounMappings>

  <VerbMappings>
    <Map From="List" To="Get" />
  </VerbMappings>

  <ServiceOperations>
    <ServiceOperation MethodName="CancelUpdateStack" Output="Void"/>
    <ServiceOperation MethodName="CreateStack">
      <Params>
        <Param Name="TimeoutInMinutes" AutoRename="false" />
      </Params>
    </ServiceOperation>
    <ServiceOperation MethodName="ContinueUpdateRollback" Verb="Resume" Output="Void" />
    <ServiceOperation MethodName="CreateChangeSet" Exclude="true"/>
    <ServiceOperation MethodName="DeleteChangeSet" PipelineParameter="ChangeSetName" Output="Void" />
    <ServiceOperation MethodName="DeleteStack" Output="Void"/>
    <ServiceOperation MethodName="DescribeAccountLimits" Noun="AccountLimit" LegacyAlias="Get-CFNAccountLimits"/>
    <ServiceOperation MethodName="DescribeChangeSet" PipelineParameter="ChangeSetName" Output="Response" />
    <ServiceOperation MethodName="DescribeStackEvents" Noun="StackEvent" LegacyAlias="Get-CFNStackEvents"/>
    <ServiceOperation MethodName="DescribeStackResource" PositionalParameters="LogicalResourceId"/>
    <ServiceOperation MethodName="DescribeStackResources" Noun="StackResourceList" LegacyAlias="Get-CFNStackResources"/>
    <ServiceOperation MethodName="DescribeStacks"/>
    <ServiceOperation MethodName="EstimateTemplateCost" PipelineParameter="TemplateBody"/>
    <ServiceOperation MethodName="ExecuteChangeSet" Verb="Start" PipelineParameter="ChangeSetName" Output="Void" />
    <ServiceOperation MethodName="GetStackPolicy"/>
    <ServiceOperation MethodName="GetTemplate" Exclude="true"/>
    <ServiceOperation MethodName="GetTemplateSummary" Output="Response"/>
    <ServiceOperation MethodName="ListImports" Noun="ImportList"/>
    <ServiceOperation MethodName="ListChangeSets" Noun="ChangeSetList" />
    <ServiceOperation MethodName="ListExports" Noun="Export"/>
    <ServiceOperation MethodName="ListStackResources" Noun="StackResourceSummary" LegacyAlias="Get-CFNStackResourceSummaries" />
    <ServiceOperation MethodName="ListStacks" Noun="StackSummary" PipelineParameter="StackStatusFilter" LegacyAlias="Get-CFNStackSummaries" />
    <ServiceOperation MethodName="SetStackPolicy" Output="Void"/>
    <ServiceOperation MethodName="SignalResource" Verb="Send" Noun="ResourceSignal" Output="Void"/>
    <ServiceOperation MethodName="UpdateStack"/>
    <ServiceOperation MethodName="ValidateTemplate" Output="Response" PipelineParameter="TemplateBody"/>

    <ServiceOperation MethodName="ListStackSetOperationResults" Noun="StackSetOperationResultList" PipelineParameter="OperationId">
      <AutoIterate Start="NextToken" Next="NextToken" EmitLimit="MaxResults" />
    </ServiceOperation>
    <ServiceOperation MethodName="ListStackSetOperations" Noun="StackSetOperationList">
      <AutoIterate Start="NextToken" Next="NextToken" EmitLimit="MaxResults" />
    </ServiceOperation>
    <ServiceOperation MethodName="ListStackSets" Noun="StackSetList">
      <AutoIterate Start="NextToken" Next="NextToken" EmitLimit="MaxResults" />
    </ServiceOperation>
    <ServiceOperation MethodName="StopStackSetOperation" PipelineParameter="StackSetName" Output="Void" />
    <ServiceOperation MethodName="UpdateStackSet" PipelineParameter="StackSetName" />
    <ServiceOperation MethodName="CreateStackInstances" Noun="StackInstance" PipelineParameter="StackSetName">
      <Params>
        <Param Name="Regions" NewName="StackInstanceRegion" AutoApplyAlias="false"/>
      </Params>
    </ServiceOperation>
    <ServiceOperation MethodName="CreateStackSet" PipelineParameter="StackSetName" />
    <ServiceOperation MethodName="DeleteStackInstances" Noun="StackInstance" PipelineParameter="StackSetName">
      <Params>
        <Param Name="Regions" NewName="StackInstanceRegion" AutoApplyAlias="false"/>
      </Params>
    </ServiceOperation>
    <ServiceOperation MethodName="DeleteStackSet" Output="Void" />
    <ServiceOperation MethodName="DescribeStackInstance" PipelineParameter="StackSetName" />
    <ServiceOperation MethodName="DescribeStackSet" />
    <ServiceOperation MethodName="DescribeStackSetOperation" PipelineParameter="OperationId" />
    <ServiceOperation MethodName="ListStackInstances" Noun="StackInstanceList" PipelineParameter="StackSetName">
      <AutoIterate Start="NextToken" Next="NextToken" EmitLimit="MaxResults" />
    </ServiceOperation>

    <ServiceOperation MethodName="UpdateTerminationProtection" />

  </ServiceOperations>

  <PipelineByValueProperties>
    <Property>StackName</Property>
    <Property>LogicalResourceId</Property>
    <Property>PhysicalResourceId</Property>
    <Property>OperationId</Property>
  </PipelineByValueProperties>

  <TypesNotToFlatten>
    <Type>Amazon.CloudFormation.Model.StackSetOperationPreferences</Type>
  </TypesNotToFlatten>
</ConfigModel>
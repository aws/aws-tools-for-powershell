<?xml version="1.0" encoding="utf-8" ?>
<ConfigModel 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <ServiceNounPrefix>SSM</ServiceNounPrefix>
  <ServiceName>Amazon Simple Systems Management</ServiceName>
  <ServiceClientInterface>IAmazonSimpleSystemsManagement</ServiceClientInterface>
  <ServiceClient>AmazonSimpleSystemsManagementClient</ServiceClient>
  <ServiceNamespace>Amazon.SimpleSystemsManagement</ServiceNamespace>

  <PipelineParameter>InstanceId</PipelineParameter>
  
  <!-- note: SSM is not consistent with service page size across its apis, and does
       not allow calls to be made without a value (1..max) set. Operation specific
       autoiterate settings are therefore in effect below.
  -->
  <AutoIterate EmitLimit="MaxResults" Start="NextToken" Next="NextToken" ServicePageSize="50" Exclusions="ListInventoryEntries" />
  
  <ServiceOperations>
    <ServiceOperation MethodName="CreateAssociation" />
    <ServiceOperation MethodName="CreateAssociationBatch" Noun="AssociationFromBatch" Output="Response"/>
    <ServiceOperation MethodName="CreateDocument" PipelineParameter="Content" ShouldProcessTarget="Name"/>
    <ServiceOperation MethodName="DeleteAssociation" Output="Void" />
    <ServiceOperation MethodName="DeleteDocument" Output="Void" />
    <ServiceOperation MethodName="DescribeAssociation" />
    <ServiceOperation MethodName="DescribeDocument" Noun="DocumentDescription" />
    <ServiceOperation MethodName="GetDocument" Output="Response" />
    <ServiceOperation MethodName="ListAssociations" Verb="Get" Noun="AssociationList" />
    <ServiceOperation MethodName="ListDocuments" Verb="Get" Noun="DocumentList" />
    <ServiceOperation MethodName="UpdateAssociationStatus" />
    <!-- RunCommand apis -->
    <ServiceOperation MethodName="CancelCommand" ShouldProcessTarget="InstanceIds" Output="Void" />
    <ServiceOperation MethodName="ListCommandInvocations" Noun="CommandInvocation" Verb="Get" />
    <ServiceOperation MethodName="ListCommands" Verb="Get" Noun="Command" />
    <ServiceOperation MethodName="SendCommand" ShouldProcessTarget="InstanceIds"/>
    <ServiceOperation MethodName="DescribeInstanceInformation" />
    <!-- Document sharing apis -->
    <ServiceOperation MethodName="DescribeDocumentPermission" PipelineParameter="Name" />
    <ServiceOperation MethodName="ModifyDocumentPermission" PipelineParameter="Name" Output="Void" />
    <ServiceOperation MethodName="UpdateManagedInstanceRole" Output="Void" />
    <ServiceOperation MethodName="AddTagsToResource" Noun="ResourceTag" PipelineParameter="ResourceId" Output="Void" />
    <ServiceOperation MethodName="CreateActivation" NoPipelineParameter="true" Output="Response" />
    <ServiceOperation MethodName="DeleteActivation" Output="Void" />
    <ServiceOperation MethodName="DeregisterManagedInstance" Verb="Unregister" Output="Void" />
    <ServiceOperation MethodName="DescribeActivations" Noun="Activation" NoPipelineParameter="true" />
    <ServiceOperation MethodName="ListTagsForResource" Verb="Get" Noun="ResourceTag" PipelineParameter="ResourceId" />
    <ServiceOperation MethodName="RemoveTagsFromResource" Noun="ResourceTag" PipelineParameter="ResourceId" Output="Void" />
    <ServiceOperation MethodName="CreateMaintenanceWindow" PipelineParameter="Name" />
    <ServiceOperation MethodName="DeleteMaintenanceWindow" />
    <ServiceOperation MethodName="DeleteParameter" Output="Void" />
    <ServiceOperation MethodName="DeregisterTargetFromMaintenanceWindow" PipelineParameter="WindowTargetId" Output="Response" />
    <ServiceOperation MethodName="DeregisterTaskFromMaintenanceWindow" PipelineParameter="WindowTaskId" Output="Response" />
    <ServiceOperation MethodName="DescribeAutomationExecutions" NoPipelineParameter="true" Noun="AutomationExecutionList" />
    <ServiceOperation MethodName="DescribeEffectiveInstanceAssociations" Noun="EffectiveInstanceAssociationList">
      <AutoIterate ServicePageSize="5" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeInstanceAssociationsStatus" />
    <ServiceOperation MethodName="DescribeMaintenanceWindowExecutionTaskInvocations" Noun="MaintenanceWindowExecutionTaskInvocationList" PipelineParameter="WindowExecutionId">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeMaintenanceWindowExecutionTasks" Noun="MaintenanceWindowExecutionTaskList" PipelineParameter="WindowExecutionId">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeMaintenanceWindowExecutions" Noun="MaintenanceWindowExecutionList" PipelineParameter="WindowId">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeMaintenanceWindowTargets" Noun="MaintenanceWindowTarget" LegacyAlias="Get-SSMMaintenanceWindowTargets">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeMaintenanceWindowTasks" Noun="MaintenanceWindowTaskList" PipelineParameter="WindowId">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeMaintenanceWindows" Noun="MaintenanceWindowList">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeParameters" Noun="ParameterList" />
    <ServiceOperation MethodName="GetAutomationExecution" />
    <ServiceOperation MethodName="GetCommandInvocation" Output="Response" Noun="CommandInvocationDetail" />
    <ServiceOperation MethodName="GetInventory" />
    <ServiceOperation MethodName="GetInventorySchema" PipelineParameter="TypeName">
      <AutoIterate ServicePageSize="200" />
    </ServiceOperation>
    <ServiceOperation MethodName="GetMaintenanceWindow" Output="Response" />
    <ServiceOperation MethodName="GetMaintenanceWindowExecution" Output="Response" />
    <ServiceOperation MethodName="GetMaintenanceWindowExecutionTask" PipelineParameter="TaskId" Output="Response" />
    <ServiceOperation MethodName="GetParameterHistory" PipelineParameter="Name" />
    <ServiceOperation MethodName="GetParameters" Noun="ParameterValue" NoPipelineParameter="true" Output="Response" LegacyAlias="Get-SSMParameterNameList" />
    <ServiceOperation MethodName="ListDocumentVersions" Noun="DocumentVersionList" PipelineParameter="Name" />
    <ServiceOperation MethodName="ListInventoryEntries" Noun="InventoryEntriesList" Output="Response" />
    <ServiceOperation MethodName="PutInventory" Output="Void" />
    <ServiceOperation MethodName="PutParameter" PipelineParameter="Name" Output="Void" />
    <ServiceOperation MethodName="RegisterTargetWithMaintenanceWindow" PipelineParameter="WindowId" />
    <ServiceOperation MethodName="RegisterTaskWithMaintenanceWindow" PipelineParameter="TaskArn" />
    <ServiceOperation MethodName="StartAutomationExecution" PipelineParameter="DocumentName" />
    <ServiceOperation MethodName="StopAutomationExecution" Output="Void" />
    <ServiceOperation MethodName="UpdateAssociation" PipelineParameter="AssociationId" />
    <ServiceOperation MethodName="UpdateDocument" PipelineParameter="Content" />
    <ServiceOperation MethodName="UpdateDocumentDefaultVersion" PipelineParameter="Name" />
    <ServiceOperation MethodName="UpdateMaintenanceWindow" PipelineParameter="WindowId" Output="Response" />
    <ServiceOperation MethodName="GetPatchBaselineForPatchGroup" Output="Response" />
    <ServiceOperation MethodName="RegisterDefaultPatchBaseline" />
    <ServiceOperation MethodName="RegisterPatchBaselineForPatchGroup" PipelineParameter="BaselineId" Output="Response" />
    <ServiceOperation MethodName="UpdatePatchBaseline" PipelineParameter="BaselineId" Output="Response" />
    <ServiceOperation MethodName="DescribeInstancePatches" Noun="InstancePatch">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeInstancePatchStates" Noun="InstancePatchState" NoPipelineParameter="true">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeInstancePatchStatesForPatchGroup" PipelineParameter="PatchGroup">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribePatchBaselines" NoPipelineParameter="true" Noun="PatchBaseline">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribePatchGroups" Noun="PatchGroup">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribePatchGroupState" Output="Response" />
    <ServiceOperation MethodName="GetDefaultPatchBaseline" />
    <ServiceOperation MethodName="GetDeployablePatchSnapshotForInstance" PipelineParameter="SnapshotId" Output="Response" />
    <ServiceOperation MethodName="GetPatchBaseline" Noun="PatchBaselineDetail" Output="Response" />
    <ServiceOperation MethodName="CreatePatchBaseline" NoPipelineParameter="true" />
    <ServiceOperation MethodName="DeletePatchBaseline" />
    <ServiceOperation MethodName="DeregisterPatchBaselineForPatchGroup" PipelineParameter="PatchGroup" Output="Response" />
    <ServiceOperation MethodName="DescribeAvailablePatches" Noun="AvailablePatch" NoPipelineParameter="true">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
    <ServiceOperation MethodName="DescribeEffectivePatchesForPatchBaseline">
      <AutoIterate ServicePageSize="100" />
    </ServiceOperation>
  </ServiceOperations>

  <VerbMappings>
    <Map From="Associate" To="Register" />
    <Map From="Disassociate" To="Unregister" />
    <Map From="Deregister" To="Unregister" />
    <Map From="List" To="Get" />
  </VerbMappings>
  
  <PipelineByValueProperties>
    <Property>InstanceId</Property>
    <Property>Name</Property>
    <Property>WindowId</Property>
    <Property>WindowTargetId</Property>
    <Property>WindowTaskId</Property>
    <Property>AutomationExecutionId</Property>
    <Property>CommandId</Property>
    <Property>PluginName</Property>
    <Property>TypeName</Property>
    <Property>TaskArn</Property>
    <Property>AssociationId</Property>
    <Property>KeyId</Property>
    <Property>BaselineId</Property>
    <Property>PatchGroup</Property>
    <Property>SnapshotId</Property>
  </PipelineByValueProperties>
</ConfigModel>